---
title: "查询链路信息"
keywords: "Kubernetes, {ks_product}, 链路追踪, 网络, 可观测"
description: "介绍如何查询请求链路信息。"
weight: 01
---

:ks_navigation: **链路追踪 > 链路查询**


本节介绍如何查询请求链路信息。

WizTelemetry 链路追踪通过服务维度聚合请求链路，实现可观测性的分层分析。

== 前提条件

* 您需要在 KubeSphere 平台具有 **platform-admin** 角色。有关更多信息，请参阅link:../../../../05-users-and-roles/01-users/[用户]和link:../../../../05-users-and-roles/02-platform-roles/[平台角色]。

* KubeSphere 平台需要安装并启用 **WizTelemetry 链路追踪**扩展组件。

== 操作步骤

include::../../../../_custom/platformManagement/extensionManagement/extensionManagement-oper-logInAsPlatformAdmin.adoc[]

+

include::../../../../_custom/WizTelemetry/enter-into-WizTelemetry.adoc[]

+

include::../../../../../_ks_components/oper-navigate.adoc[]

. 在页面上方的下拉列表中选择集群、服务，通过可视化图表和链路列表，查看选定服务在指定时间范围内的请求链路信息。
+
--
// include::../../../../../_ks_components/oper-selectTimeRange.adoc[]
* 在右上角点击image:/images/ks-qkcp/zh/icons/clock-2.svg[clock-2,18,18]可设置数据的时间范围。默认为**最近 30 分钟**。

* 点击**最近 20 条记录**下拉列表，选择查看最近的 10 条、50 条或 100 条记录。

* 点击搜索框并设置搜索条件，可按 Trace ID、Span 名称、标签、最小持续时间、最大持续时间搜索链路信息。
--

. 在图表区域，横轴是请求的发起时间，纵轴是请求从发起到完成的总耗时。气泡的大小是通过将持续时间的值映射到气泡面积来实现的，持续时间越长，气泡越大。
+
--
* 点击气泡可查看对应的服务名称、Span 名称和持续时间。

* 点击图表右下方的**隐藏图表/显示图表**，可隐藏或显示该图表。
--

. 在链路列表区域，查看选定服务在指定时间范围内的链路信息，可按开始时间/持续时间排序。
+
--
链路列表展示了以下信息：

[%header,cols="1a,4a"]
|===
|参数 |描述

|Trace ID
|链路的​​唯一标识符​​，用于在分布式系统中追踪完整的请求生命周期（通常为 32 位哈希值），如 `c76049d283c30cdfdf26e2485ba5fae32`。

|<服务名称>:<根 Span 名称>
|显示在 Trace ID 下。用于标识整条链路的入口服务及其初始操作，如 `loadgenerator:GET`。

|Span 总数量
|链路中 Span 的总数量，如 `8 Spans`。

每个 Span 代表链路中的一个​​独立操作单元​​（如微服务调用、数据库查询等）。

|服务及 Span 数量
|Span 总数量之后展示的是链路中的每个服务以及对应 Span 的数量，如 `loadgenerator 2`。
Span 数量反映该服务在链路中的​​调用次数​。

如果链路下存在状态为 error 的 Span, 这里也会显示错误数据的总数，如 `3 Error`。

|持续时间
|请求从发起到完成的总耗时。

|开始时间
|发起请求的时间。
|===
--