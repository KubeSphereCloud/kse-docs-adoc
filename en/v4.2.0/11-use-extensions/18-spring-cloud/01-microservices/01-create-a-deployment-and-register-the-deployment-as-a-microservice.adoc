---
title: "Create a Deployment and Register It as a Microservice"
keywords: "Kubernetes, {ks_product}, Project Management, Spring Cloud, Create a Deployment and Register It as a Microservice"
description: "Describes how to create a deployment and register it as a microservice."
weight: 01
---


:ks_permission: ** Spring Cloud Microservice Management**
:ks_navigation: Â **Spring Cloud > Microservices**


This section describes how to create a Deployment and register it as a microservice.

Spring Cloud microservice instances are managed through Kubernetes Deployments. The pod replicas of a Deployment are the instances of the microservice.


== Prerequisites

* The **KubeSphere Spring Cloud** extension must be installed and enabled on the KubeSphere platform.

:relfileprefix: ../../../../
* {empty}
include::../../../../_custom/projectManagement/projectManagement-prer-requiredPermission_v42.adoc[]

:relfileprefix: ./

* The application in the container image used to create the Deployment must comply with Nacos specifications. For more information, refer to the link:https://nacos.io[Nacos official documentation].


== Steps

Refer to link:#_parameter-description[Parameter Description] to set the parameters for the Deployment.

include::../../../../_custom/workspaceManagement/workspaceManagement-oper-openWorkspacePage.adoc[]

+

include::../../../../../_ks_components/oper-navigate.adoc[]

+

include::../../../../_custom/projectManagement/projects-oper-dropdownList.adoc[]

+

. Click **Enable Spring Cloud**.

+

include::../../../../../_ks_components/oper-clickCreate.adoc[]

+

. On the **Basic Information** tab, set the basic information for the **Deployment**, then click **Next**.

. On the **Pod Settings** tab, set the number of replicas, containers, update strategy, security context, scheduling rules, and metadata for the pods managed by the **Deployment**, then click **Next**.

. On the **Storage Settings** tab, mount volumes for the containers managed by the Deployment, then click **Next**.

. On the **Advanced Settings** tab, specify nodes for the pods managed by the Deployment, and set the metadata for the Deployment, then click **Create**.
+
--
After the Deployment is created, it will be registered as a microservice and appear in the microservice list.

// Note
include::../../../../../_ks_components/admonitions/note.adoc[]

Deployments created on the **Spring Cloud > Microservices** page will be automatically registered as microservices. To perform operations on microservice instances (e.g., adjusting the number of instances), you need to go to the **Workloads > Deployments** page to operate on the Deployment corresponding to the microservice.

include::../../../../../_ks_components/admonitions/admonEnd.adoc[]
--


== Parameter Description

* Basic Information
+
--
Set the basic information for the Deployment.

[%header,cols="1a,4a"]
|===
|Parameter |Description

|Name
|The name of the Deployment. The name can only contain lowercase letters, numbers, and hyphens (-), must start and end with a lowercase letter or number, and can be up to 253 characters long.

|Alias
|The alias of the Deployment. Different Deployments can have the same alias.
// The alias can only contain Chinese characters, letters, numbers, and hyphens (-), must not start or end with a hyphen (-), and can be up to 63 characters long.

|Description
|The description of the Deployment. The description can contain any characters and can be up to 256 characters long.
|===
--

include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-podReplicas.adoc[]

* Pod Settings > Add Container
+
--
include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-addContainer.adoc[]
--

* Pod Settings > Add Container > Container Settings
+
--
include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-desc-setImageNameTypeResource.adoc[]

[%header,cols="1a,4a"]
|===
|Parameter |Description

include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-containerImage.adoc[]

include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-containerName.adoc[]

include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-containerType.adoc[]

include::../../../../_custom/clusterManagement/projects/projects-para-containerQuotas.adoc[]
|===
--

* Pod Settings > Add Container > Port Settings
+
--
include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-Port.adoc[]
--

* Pod Settings > Add Container > Image Pull Policy
+
--
include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-imagePullPolicy.adoc[]
--

* Pod Settings > Add Container > Health Check
+
--
include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-healthCheck.adoc[]
--

* Pod Settings > Add Container > Health Check > Add Probe
+
--
include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-addProbe.adoc[]
--

* Pod Settings > Add Container > Lifecycle Management
+
--
include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-lifecycleManagement.adoc[]
--

* Pod Settings > Add Container > Lifecycle Management > Add Action
+
--
include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-addAction.adoc[]
--

* Pod Settings > Add Container > Startup Command
+
--
include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-startCommand.adoc[]
--

* Pod Settings > Add Container > Environment Variables
+
--
include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-environmentVariables.adoc[]
--

* Pod Settings > Add Container > Pod Security Context
+
--
include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-containerSecurityContext.adoc[]
--

* Pod Settings > Add Container > Sync Host Timezone
+
--
include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-syncTimeZone.adoc[]
--

* Pod Settings > Update Strategy
+
--
include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-updatePolicy.adoc[tag=onlydeploy]
--

* Pod Settings > Update Strategy > Rolling Update Settings
+
--
include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-rollingUpdate.adoc[tag=onlydeploy]
--

* Pod Settings > Pod Security Context
+
--
include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-podSecurityContext.adoc[]
--

* Pod Settings > Pod Scheduling Rules
+
--
include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-podSchedulingRules.adoc[]
--

* Pod Settings > Pod Scheduling Rules > Custom Rules
+
--
include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-customRules.adoc[]
--

* Pod Settings > Pod Graceful Termination
+
--
include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-PodGracePeriod.adoc[]
--

* Pod Settings > Add Metadata
+
--
include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-PodMetadata.adoc[]
--

* Storage Settings
+
--
include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-desc-mountVolume.adoc[]

[%header,cols="1a,4a"]
|===
|Parameter |Description

// include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-collectLogsOnVolume.adoc[]

// include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-desc-enableLogCollectionCluster.adoc[]

// include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-addPVCTemplate.adoc[]

include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-mountVolume.adoc[]

include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-mountSecretOrConfigmap.adoc[]
|===

include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-oper-editDeleteVolume_new.adoc[]
--

// * Storage Settings > Add Persistent Volume Claim Template
// +
// --
// include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-volumeTemplate.adoc[]
// --

* Storage Settings > Mount Volume > Persistent Volume
+
--
include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-persistentVolume.adoc[]
--

* Storage Settings > Mount Volume > Temporary Volume
+
--
include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-temporaryVolume.adoc[]
--

* Storage Settings > Mount Volume > HostPath Volume
+
--
include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-hostpathVolume.adoc[]
--

* Storage Settings > Mount ConfigMap or Secret
+
--
include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-mountConfigmapSecret.adoc[]
--

* Advanced Settings
+
--
Specify nodes for the pods managed by the Deployment and set the metadata for the Deployment.

[%header,cols="1a,4a"]
|===
|Parameter |Description

// |Pod IP Pool
// |Select the IP pool used to assign virtual IP addresses to pod replicas.

include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-selectNode.adoc[]

|Add Metadata
|Set labels and annotations for the Deployment.

include::../../../../_custom/clusterManagement/workloads/createWorkload/workloads-para-Metadata.adoc[]
|===
--