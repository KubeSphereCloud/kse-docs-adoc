---
title: "配置白名单"
keywords: "Kubernetes, {ks_product}, 项目管理, 项目设置, 网络隔离, 添加白名单"
description: "介绍如何配置和管理白名单。"
weight: 04
---

:ks_permission: **项目网络隔离管理**
:ks_navigation: **服务网络 > 项目网络隔离**


本节介绍如何配置和管理白名单。

在启用“企业空间网络隔离”或“项目网络隔离”的情况下，通过在选定项目中配置白名单，可允许当前项目中的容器组与其他特定的项目、服务、网段或端口相互访问。

配置白名单前，必须启用“企业空间网络隔离”或“项目网络隔离”。否则，无法配置。配置白名单后，如果“企业空间网络隔离”或“项目网络隔离”都被禁用，白名单也会被清理；如果两者之一启用，白名单仍有效。

== 前提条件

:relfileprefix: ../../../../
* {empty}
include::../../../../_custom/projectManagement/projectManagement-prer-requiredPermission_v42.adoc[]

:relfileprefix: ./

* 项目所属的集群需要安装 **KubeSphere 网络**扩展组件。

* 配置白名单前，必须启用“企业空间网络隔离”或“项目网络隔离”。否则，无法配置。

== 添加白名单

include::../../../../_custom/workspaceManagement/workspaceManagement-oper-openWorkspacePage.adoc[]

+

include::../../../../../_ks_components/oper-navigate.adoc[]

+

include::../../../../_custom/projectManagement/projects-oper-dropdownList.adoc[]

+

. 在**基于项目/服务的白名单**或**基于网段/端口的白名单**页签下，点击**添加**。

. 在弹出的对话框中，设置白名单条目的基本信息，然后点击**下一步**。
+
[%header,cols="1a,4a"]
|===
|参数 |描述

|名称
|白名单条目的名称。名称只能包含小写字母、数字和连字符（-），必须以小写字母或数字开头和结尾，最长 253 个字符。

|别名
|白名单条目的别名。不同白名单条目的别名可以相同。

|描述
|白名单条目的描述信息。描述可包含任意字符，最长 256 个字符。
|===

. 在对话框的**白名单设置**页签，设置白名单条目的参数，然后点击**创建**。
+
====
* 对于基于项目/服务的白名单，请设置以下参数：
+
--
[%header,cols="1a,4a"]
|===
|参数 |描述

|流量方向
|白名单条目放行的流量方向。

* **出站**：从当前项目到其他项目的方向。

* **入站**：其他项目到当前项目的方向。

|白名单类型
|白名单条目匹配其他项目容器组的方式。

* **项目**：当前项目中的容器组可以与指定项目中的所有容器组通信。
+
您可以直接指定某一项目，或通过标签和表达式筛选项目，或指定某一企业空间。指定企业空间后，白名单将应用于所选企业空间下的所有项目。

* **服务**：当前项目中的容器组可以与指定服务的后端容器组通信。
|===
--

* 对于基于网段/端口的白名单，请设置以下参数：
+
--
[%header,cols="1a,4a"]
|===
|参数 |描述

|流量方向
|白名单条目放行的流量方向。

* **出站**：从当前项目到其他项目的方向。

* **入站**：其他项目到当前项目的方向。

|网段
|项目外部的网络地址和子网掩码。支持无类别域间路由（CIDR）。

* 在已添加的网段右侧点击image:/images/ks-qkcp/zh/icons/copy-light.svg[copy-light,18,18]可创建网段副本。
* 在已添加的网段右侧点击image:/images/ks-qkcp/zh/icons/trash-light.svg[trash-light,18,18]可删除网段。
* 点击**添加新网段**可设置多个网段。

|端口
|白名单条目放行的端口号。

* 对于出站白名单条目，此处的端口为项目外部地址的端口。

* 对于入站白名单条目，此处的端口为当前项目容器组的端口。

* 在已添加的端口右侧点击image:/images/ks-qkcp/zh/icons/copy-light.svg[copy-light,18,18]可创建端口副本。
* 在已添加的端口右侧点击image:/images/ks-qkcp/zh/icons/trash-light.svg[trash-light,18,18]可删除端口。
* 点击**添加新端口范围**可设置多个端口范围，点击**添加新端口**可设置多个端口。
|===
--

白名单条目创建完成后将显示在白名单列表中。
====

== 管理白名单

* 在白名单列表中，点击白名单名称可查看条目详情。

* 在白名单列表右侧点击image:/images/ks-qkcp/zh/icons/more.svg[more,18,18] > **编辑信息**，可编辑白名单条目的别名和描述。

* 在白名单列表右侧点击image:/images/ks-qkcp/zh/icons/more.svg[more,18,18] > **白名单设置**，可修改白名单条目的设置。

* 在白名单列表右侧点击image:/images/ks-qkcp/zh/icons/more.svg[more,18,18] > **删除**，可删除白名单条目。
+
include::../../../../../_ks_components/admonitions/warning.adoc[]

删除白名单条目可能会导致当前项目中的容器组网络连接中断，请谨慎执行此操作。

include::../../../../../_ks_components/admonitions/admonEnd.adoc[]