// :ks_include_id: 5f6544e2d6a54cc9a3461b0a1ec3366e

ifeval::["{file_output_type}" == "html"]
. Execute the following commands to download the configuration files **cluster-configuration.yaml** and **kubesphere-installer.yaml**:
+
--
// Bash
include::../../../_ks_components/code/bash.adoc[]

curl -L -O https://github.com/kubesphere/ks-installer/releases/download/{ks_product_ver}/kubesphere-installer.yaml

include::../../../_ks_components/code/codeEnd.adoc[]

// Bash
include::../../../_ks_components/code/bash.adoc[]

curl -L -O https://github.com/kubesphere/ks-installer/releases/download/{ks_product_ver}/cluster-configuration.yaml

include::../../../_ks_components/code/codeEnd.adoc[]

// Note
include::../../../_ks_components/admonitions/note.adoc[]

If your cluster nodes cannot connect to the internet, you can manually download the configuration files link:https://github.com/kubesphere/ks-installer/releases/download/{ks_product_ver}/kubesphere-installer.yaml[kubesphere-installer.yaml] and link:https://github.com/kubesphere/ks-installer/releases/download/{ks_product_ver}/cluster-configuration.yaml[cluster-configuration.yaml] from a device with internet access, and then transfer them to any node in the Kubernetes cluster.

include::../../../_ks_components/admonitions/admonEnd.adoc[]
--

. If your cluster nodes cannot connect to the internet, execute the following command to set the private image service address **dockerhub.kubekey.local** in the **kubesphere-installer.yaml** file:
+
--
// Bash
include::../../../_ks_components/code/bash.adoc[]

sed -i "s#^\s*image: kubesphere.*/ks-installer:.*#        image: dockerhub.kubekey.local/kubesphere/ks-installer:v3.3.0#" kubesphere-installer.yaml

include::../../../_ks_components/code/codeEnd.adoc[]
--

. If your cluster nodes cannot connect to the internet, execute the following command to edit the **cluster-configuration.yaml** configuration file:
endif::[]

ifeval::["{file_output_type}" == "pdf"]
. Execute the following command to edit the **cluster-configuration.yaml** configuration file:
endif::[]